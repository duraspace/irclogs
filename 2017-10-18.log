<span class="irc-date">[6:56]</span> <span class="irc-brown">-rajaniemi.freenode.net- *** Looking up your hostname...</span><br />
<span class="irc-date">[6:56]</span> <span class="irc-brown">-rajaniemi.freenode.net- *** Checking Ident</span><br />
<span class="irc-date">[6:56]</span> <span class="irc-brown">-rajaniemi.freenode.net- *** Found your hostname</span><br />
<span class="irc-date">[6:56]</span> <span class="irc-brown">-rajaniemi.freenode.net- *** No Ident response</span><br />
<span class="irc-date">[6:56]</span> <span class="irc-green">* DuraLogBot (~PircBot@webster.duraspace.org) has joined #duraspace</span><br />
<span class="irc-date">[6:56]</span> <span class="irc-green">* Topic is 'Welcome to DuraSpace IRC. This channel is used for formal meetings and is logged - <a href="http://irclogs.duraspace.org/'">http://irclogs.duraspace.org/'</a></span><br />
<span class="irc-date">[6:56]</span> <span class="irc-green">* Set by tdonohue on Thu Sep 15 17:49:38 UTC 2016</span><br />
<span class="irc-date">[7:34]</span> <span class="irc-navy">* DSpaceSlackBot (~DSpaceSla@ec2-50-17-201-82.compute-1.amazonaws.com) Quit (Remote host closed the connection)</span><br />
<span class="irc-date">[7:34]</span> <span class="irc-green">* DSpaceSlackBot (~DSpaceSla@ec2-50-17-201-82.compute-1.amazonaws.com) has joined #duraspace</span><br />
<span class="irc-date">[12:17]</span> <span class="irc-green">* mhwood (~mhwood@mhw.ulib.iupui.edu) has joined #duraspace</span><br />
<span class="irc-date">[12:58]</span> <span class="irc-green">* tdonohue (~tdonohue@dspace/tdonohue) has joined #duraspace</span><br />
<span class="irc-date">[14:32]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; &lt;here&gt;: Reminder our weekly DSpace DevMtg is at the top of the hour (&lt;30mins). Agenda is at: <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2017-10-18">https://wiki.duraspace.org/display/DSPACE/DevMtg+2017-10-18</a></span><br />
<span class="irc-date">[14:32]</span> <span class="irc-black">&lt;kompewter&gt; [ DevMtg 2017-10-18 - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2017-10-18">https://wiki.duraspace.org/display/DSPACE/DevMtg+2017-10-18</a></span><br />
<span class="irc-date">[14:34]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;mwood&gt; I'll probably be late -- getting on a bus at 11:00, but it supposedly has WiFi.</span><br />
<span class="irc-date">[15:00]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; &lt;here&gt;: It's DSpace DevMtg time. Agenda is linked above :point_up:</span><br />
<span class="irc-date">[15:01]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; It looks like we may have a good number of folks here today, but it might be good to do a quick roll call to see who is actually paying attention ;)</span><br />
<span class="irc-date">[15:01]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; I have a staff meeting that will start in a min.  I will join in later if it ends early.</span><br />
<span class="irc-date">[15:02]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; I’m here but I can’t stay for the whole meeting</span><br />
<span class="irc-date">[15:02]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; I'll be paying attention, but just to observe :slightly_smiling_face:</span><br />
<span class="irc-date">[15:02]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; While folks are chiming in, I'll add in a few quick reminders...  First up, the DSpace 7 team is meeting again tomorrow (at this same time, 15UTC) via Hangouts. More info at: <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+7+Working+Group">https://wiki.duraspace.org/display/DSPACE/DSpace+7+Working+Group</a></span><br />
<span class="irc-date">[15:02]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace 7 Working Group - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+7+Working+Group">https://wiki.duraspace.org/display/DSPACE/DSpace+7+Working+Group</a></span><br />
<span class="irc-date">[15:03]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;mwood&gt; I'll catch up in a few minutes.</span><br />
<span class="irc-date">[15:03]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Next, the new DSpace Entities Working Group had their first meeting last week...the next one is Fri, Oct 27 (a week from this Fri).  Notes and more info at: <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Entities+Working+Group">https://wiki.duraspace.org/display/DSPACE/DSpace+Entities+Working+Group</a></span><br />
<span class="irc-date">[15:03]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace Entities Working Group - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Entities+Working+Group">https://wiki.duraspace.org/display/DSPACE/DSpace+Entities+Working+Group</a></span><br />
<span class="irc-date">[15:04]</span> <span class="irc-navy">* mhwood (~mhwood@mhw.ulib.iupui.edu) Quit (Remote host closed the connection)</span><br />
<span class="irc-date">[15:04]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Sounds like a lot of folks are only here for a partial meeting...but, I'll go ahead and move along with the agenda (and we'll see what we can get done today)</span><br />
<span class="irc-date">[15:05]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I don't have a ton of updates this week from the DSpace 7 team.  The team is still working on search &amp; submission functionality.   They are supportive of the discussions regarding code management of "master" (see #2 in Agenda)</span><br />
<span class="irc-date">[15:05]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I will mention though that we have a new REST API Test Framework in the works from @tom_desair at <a href="https://github.com/DSpace/DSpace/pull/1866">https://github.com/DSpace/DSpace/pull/1866</a>   This could use more eyes &amp; feedback</span><br />
<span class="irc-date">[15:05]</span> <span class="irc-black">&lt;kompewter&gt; [ DS-3484: REST API integration tests with Spring MVC test by tomdesair · Pull Request #1866 · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/1866">https://github.com/DSpace/DSpace/pull/1866</a></span><br />
<span class="irc-date">[15:06]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I know the DSpace 7 team has been watching this and is supportive. But, I'd encourage others to take a look, as we are striving for more test coverage in all the DSpace 7 work...and this means also on the `master` branch</span><br />
<span class="irc-date">[15:07]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; @tom_desair is there anything else you wanted to specifically mention about this work?</span><br />
<span class="irc-date">[15:08]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; (Also, I just noticed, it looks like Travis is "stalled" on building/approving the latest PR code, just an FYI)</span><br />
<span class="irc-date">[15:08]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; I was having many problems with Travis :travis:</span><br />
<span class="irc-date">[15:08]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; There was a bug in my code that I could not reproduce locally on any of our machines. But we finally managed to identify it.</span><br />
<span class="irc-date">[15:09]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; However, it indeed seems that I need to trigger travis again</span><br />
<span class="irc-date">[15:09]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; Yesterday Travis and Github were having some issues, some maybe there are still some after problems.</span><br />
<span class="irc-date">[15:10]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Yes, it could be an artifact of that.  Likely either a minor rebase or a new commit should trigger Travis to rebuild.</span><br />
<span class="irc-date">[15:10]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; <a href="https://www.traviscistatus.com/incidents/26f004880gqk">https://www.traviscistatus.com/incidents/26f004880gqk</a></span><br />
<span class="irc-date">[15:10]</span> <span class="irc-black">&lt;kompewter&gt; [ Travis CI Status - GitHub commit delays ] - <a href="https://www.traviscistatus.com/incidents/26f004880gqk">https://www.traviscistatus.com/incidents/26f004880gqk</a></span><br />
<span class="irc-date">[15:10]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; Yes I really need to rebase with all those “Try to fix Travis” commits :)</span><br />
<span class="irc-date">[15:11]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; But the good news is that we can now even use SOLR in our IT tests</span><br />
<span class="irc-date">[15:11]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; (for the new REST API)</span><br />
<span class="irc-date">[15:11]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; So that allows us to write tests for Browse indexes and Discovery search</span><br />
<span class="irc-date">[15:11]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; And normally also stats related things, but I didn’t try that yet (as we don’t do stats yet in DSpace 7)</span><br />
<span class="irc-date">[15:12]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Yes, that's great news!</span><br />
<span class="irc-date">[15:12]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Ok, gonna move along now with our agenda. I know the DSpace 7 team will be watching this PR and discussing more in tomorrow's meeting. But, other eyes/opinions/thoughts are welcome!</span><br />
<span class="irc-date">[15:13]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; The next topic on the agenda is a carry-over from last week (as we were a very small group of 3 last week).  Enabling code management/checks on `master`</span><br />
<span class="irc-date">[15:14]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; First off, we now have Google's ErrorProne enabled on `master`.  See <a href="https://github.com/DSpace/DSpace/pull/1861">https://github.com/DSpace/DSpace/pull/1861</a>  This is just a tool to check Java code for common coding mistakes (and suggest corrections)</span><br />
<span class="irc-date">[15:14]</span> <span class="irc-black">&lt;kompewter&gt; [ DS-3712: Add Error Prone checks to catch common Java code mistakes by tdonohue · Pull Request #1861 · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/1861">https://github.com/DSpace/DSpace/pull/1861</a></span><br />
<span class="irc-date">[15:15]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Last week we also discussed enabling test/code coverage supports (and all were supportive), specifically this PR also from @tom_desair: <a href="https://github.com/DSpace/DSpace/pull/1865">https://github.com/DSpace/DSpace/pull/1865</a></span><br />
<span class="irc-date">[15:15]</span> <span class="irc-black">&lt;kompewter&gt; [ DS-3711: JaCoCo maven plugin by tomdesair · Pull Request #1865 · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/1865">https://github.com/DSpace/DSpace/pull/1865</a></span><br />
<span class="irc-date">[15:16]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; So, if others have not yet seen that work, or have comments on whether to enable code coverage reports on `master`, I'd encourage you to take a look &amp; comment on this</span><br />
<span class="irc-date">[15:16]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; The idea here would be to enable Coveralls reports on the `master` branch. They look like this: <a href="https://coveralls.io/builds/13658718">https://coveralls.io/builds/13658718</a></span><br />
<span class="irc-date">[15:16]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/DSpace | Build #4808 | Coveralls - Test Coverage History &amp; Statistics ] - <a href="https://coveralls.io/builds/13658718">https://coveralls.io/builds/13658718</a></span><br />
<span class="irc-date">[15:17]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; We have similar Coveralls reports for the DSpace 7 Angular UI already...for example: <a href="https://coveralls.io/builds/13752350">https://coveralls.io/builds/13752350</a></span><br />
<span class="irc-date">[15:17]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/dspace-angular | Build #220 | Coveralls - Test Coverage History &amp; Statistics ] - <a href="https://coveralls.io/builds/13752350">https://coveralls.io/builds/13752350</a></span><br />
<span class="irc-date">[15:18]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; I still need to test if there is no impact on a “released” version.</span><br />
<span class="irc-date">[15:18]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; So, this helps us track the code coverage both on `master` and `dspace-angular` similarly.   Currently our percentages are quite low, but we can work to improve that ;)</span><br />
<span class="irc-date">[15:19]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; @tom_desair: if we wanted, we could even do a very early "7.0-snapshot" release to see what happens. But, we'd have to merge the PR first.</span><br />
<span class="irc-date">[15:19]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tom_desair&gt; I’ll first try to mimic a release locally</span><br />
<span class="irc-date">[15:20]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I suspect releases won't be affected by this... but it is worth a test to be sure we didn't break anything in our POMs</span><br />
<span class="irc-date">[15:20]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Moving along.... last on the list of code mgmt tools / checks on `master`...</span><br />
<span class="irc-date">[15:21]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; We also had support last week for looking at more strictly enforcing our Java code style (again on `master`) using CheckStyle.</span><br />
<span class="irc-date">[15:22]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; This would just allow us all to create code that is more readable, and more consistent...and avoid all those automatic alignment/spaces changes that various IDEs keep doing to our PRs</span><br />
<span class="irc-date">[15:22]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I've started analyzing this a bit...and realized our documented Java code style itself could use some updates (it's based on Sun code standards from 1999, and those are no longer maintained)</span><br />
<span class="irc-date">[15:23]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; My notes are all on this Wiki page: <a href="https://wiki.duraspace.org/pages/viewpage.action?pageId=90967266">https://wiki.duraspace.org/pages/viewpage.action?pageId=90967266</a></span><br />
<span class="irc-date">[15:23]</span> <span class="irc-black">&lt;kompewter&gt; [ Code Style Guide (WIP) - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/pages/viewpage.action?pageId=90967266">https://wiki.duraspace.org/pages/viewpage.action?pageId=90967266</a></span><br />
<span class="irc-date">[15:24]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; This is really the start of a discussion... I noted on that page that we might want to look at more modern Java code styles (namely Google's documented style, and even Fedora Commons documented style, since it's another DuraSpace project)</span><br />
<span class="irc-date">[15:24]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; But, at this point, it's really open to discussion, comments. So, I'd like to hear from others on this. Feel free to add comments to that wiki page</span><br />
<span class="irc-date">[15:24]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Or we have some time today we could spend on this as well...if you already have initial thoughts</span><br />
<span class="irc-date">[15:25]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; The end goal here would be to (1) Update our code styles (if needed), (2) Configure Checkstyle on `master` to use/validate our code style, (3) Determine a time to merge this into `master` (based on discussion with DSpace 7 team)</span><br />
<span class="irc-date">[15:27]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I think the one thing we do want to avoid here is having *too many rules*....I don't want to make it a pain to develop PRs against DSpace.  But, I *do* want to ensure we are using common styles (that can be imported into our IDEs), so that we can avoid PRs that do a ton of strange reformatting, etc</span><br />
<span class="irc-date">[15:28]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I also think our documented styles could use a refresh here...and would like to potentially borrow some best practices from Fedora (and/or Google).  But, that's where I could use more input going forward.</span><br />
<span class="irc-date">[15:29]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; In any case, sounds like others may need time to digest this (or have been pulled away from this discussion).  So, I'll leave it at that</span><br />
<span class="irc-date">[15:30]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; All the other topics on our agenda are usual "carry over" topics.  We have lists of tickets we could dig into further, or a small number of tickets in the "received" backlog.</span><br />
<span class="irc-date">[15:31]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; But, before we do either...are there any other topics / tickets that folks here would like to discuss in more detail?  Anything you could use feedback or more eyes on?</span><br />
<span class="irc-date">[15:32]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Well, if nobody else is here, I actually have some questions :slightly_smiling_face:</span><br />
<span class="irc-date">[15:33]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Go for it @philip.muench</span><br />
<span class="irc-date">[15:33]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; It conderns DS-3715 and 3132.</span><br />
<span class="irc-date">[15:33]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-3715">https://jira.duraspace.org/browse/DS-3715</a> ] - [DS-3715] 2 item level embargo bugs in OAI-PMH - DuraSpace JIRA</span><br />
<span class="irc-date">[15:34]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Both of these are about how to deal with item/bitstream level embargoes in OAI-PMH</span><br />
<span class="irc-date">[15:36]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; For DS-3715, I created a PR that fixes incremental updates to the OAI index for items with item level embargoes. I would like to do the same for items with bitstream level embargoes.</span><br />
<span class="irc-date">[15:36]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-3715">https://jira.duraspace.org/browse/DS-3715</a> ] - [DS-3715] 2 item level embargo bugs in OAI-PMH - DuraSpace JIRA</span><br />
<span class="irc-date">[15:36]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; This looks to be the PR: <a href="https://github.com/DSpace/DSpace/pull/1867">https://github.com/DSpace/DSpace/pull/1867</a></span><br />
<span class="irc-date">[15:36]</span> <span class="irc-black">&lt;kompewter&gt; [ DS-3707, DS-3715: Fixes to item level embargo/privacy in OAI-PMH by philip-muench · Pull Request #1867 · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/1867">https://github.com/DSpace/DSpace/pull/1867</a></span><br />
<span class="irc-date">[15:37]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Exactly. The PR mentioned in DS-3132 creates the needed nodes in the xml structure, but updates to embargo data also will only get triggered if the item itself gets updated or if a full import to the OAI index is done.</span><br />
<span class="irc-date">[15:37]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-3132">https://jira.duraspace.org/browse/DS-3132</a> ] - [DS-3132] Expose embargo end date in OAI2 - DuraSpace JIRA</span><br />
<span class="irc-date">[15:38]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; This is because of the fact that updates to bitstream or bundle resource policies do not trigger an update to the items lastmodified date.</span><br />
<span class="irc-date">[15:40]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Can anyone think of a solution to that problem?</span><br />
<span class="irc-date">[15:40]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Arguably, modifying a bitstream or bundle of an item *should* update the item's last modified date....as that updates the item.</span><br />
<span class="irc-date">[15:41]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; But, I'm not sure if doing that would cause other issues (hopefully not)...it seems like something we could prove out via Unit Tests though</span><br />
<span class="irc-date">[15:42]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; Just joining in here.  I also ran into a situation where I noticed that the item modification date does not update when a bitstream is updated.  I do not think that there is a bitstream modification date in the system.</span><br />
<span class="irc-date">[15:43]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; No, there isn't a bitstream modification date.  That's why I'm wondering myself why we don't update the *item* modification date, when one of its bitstreams or bundles changes.  A bitstream/bundle belongs to an Item, and updating one therefore probably should update the Item's modified date</span><br />
<span class="irc-date">[15:45]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; I suspect that if you are building derivative resources with filter media (re-indexing text), perhaps you would not want to modify an item update date.</span><br />
<span class="irc-date">[15:45]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; That is a good point.</span><br />
<span class="irc-date">[15:45]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Good point, @terrywbrady. Maybe it's just the ORIGINAL bundle then?</span><br />
<span class="irc-date">[15:46]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; Perhaps the rule needs to be bundle specific</span><br />
<span class="irc-date">[15:46]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; Or configurable by bundle</span><br />
<span class="irc-date">[15:48]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; A second set of methods, so that filter-media can create bundles/bitstreams without updating the date?</span><br />
<span class="irc-date">[15:49]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; I have not looked at the early part of this discussion.  Let me scroll up and see if there is some code to consider</span><br />
<span class="irc-date">[15:51]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I wonder if this is related specifically to the ORIGINAL bundle (which are the original uploaded files).  If bitstreams in that bundle are updated, then the Item should be considered... but other bundles are more "transient", and are created based on those ORIGINAL bitstreams</span><br />
<span class="irc-date">[15:51]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;terrywbrady&gt; I presumed that there would be some code in org.dspace.content that would trigger an update to item modification date based on specific bitstream changes</span><br />
<span class="irc-date">[15:52]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; I tried it just about an hour ago, at least a bitstream resource policy update does not trigger an item update. I do not know about bundle resource policies.</span><br />
<span class="irc-date">[15:53]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; Maybe we need a `OAIConsumer` to trigger the reindex of an item on certain events?</span><br />
<span class="irc-date">[15:54]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; There was an implementation of that I saw a while back. Let me search quickly.</span><br />
<span class="irc-date">[15:55]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; DS-2644</span><br />
<span class="irc-date">[15:55]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-2644">https://jira.duraspace.org/browse/DS-2644</a> ] - [DS-2644] Consuming events that need an alteration of the OAI Index  - DuraSpace JIRA</span><br />
<span class="irc-date">[15:56]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; The idea of an `OAIConsumer` has come up before...it'd allow us to auto-update the OAI index without requiring a cron job be run.</span><br />
<span class="irc-date">[15:56]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; <a href="https://github.com/ufal/clarin-dspace/blob/lindat/dspace-oai/src/main/java/cz/cuni/mff/ufal/event/OAIIndexEventConsumer.java">https://github.com/ufal/clarin-dspace/blob/lindat/dspace-oai/src/main/java/cz/cuni/mff/ufal/event/OAIIndexEventConsumer.java</a></span><br />
<span class="irc-date">[15:56]</span> <span class="irc-black">&lt;kompewter&gt; [ clarin-dspace/OAIIndexEventConsumer.java at lindat · ufal/clarin-dspace · GitHub ] - <a href="https://github.com/ufal/clarin-dspace/blob/lindat/dspace-oai/src/main/java/cz/cuni/mff/ufal/event/OAIIndexEventConsumer.java">https://github.com/ufal/clarin-dspace/blob/lindat/dspace-oai/src/main/java/cz/cuni/mff/ufal/event/OAIIndexEventConsumer.java</a></span><br />
<span class="irc-date">[15:56]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; But, if I recall correctly, the `OAIConsumer` idea was hard to implement properly as required? merging OAI code into the `dspace-api`.</span><br />
<span class="irc-date">[15:57]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; Ah I see. The problem is that the `dspace-oai` webapp is separated from the `dspace-api`.</span><br />
<span class="irc-date">[15:57]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Personally, I'd *like* to see an `OAIConsumer` happen. I haven't had time myself to dig into how to do so though (thoughts/ideas are welcome)</span><br />
<span class="irc-date">[15:58]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; I will look into it. It would be a much cleaner solution than what I implemented for DS-3715</span><br />
<span class="irc-date">[15:58]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-3715">https://jira.duraspace.org/browse/DS-3715</a> ] - [DS-3715] 2 item level embargo bugs in OAI-PMH - DuraSpace JIRA</span><br />
<span class="irc-date">[15:59]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; Maybe the an `OAIConsumer` can at least gather the items to index, so that the indexer do not need to rely on the last modification time?</span><br />
<span class="irc-date">[15:59]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; There *is* an RDFConsumer... and `dspace-rdf` is separate from the `dspace-api`.  So, that might be a place to look...how was RDFConsumer implemented, and can we do something similar for OAI</span><br />
<span class="irc-date">[15:59]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; The RDFConsumer though is shipped in the `dspace-api`.  That might be why it works ok: <a href="https://github.com/DSpace/DSpace/blob/master/dspace-api/src/main/java/org/dspace/rdf/RDFConsumer.java">https://github.com/DSpace/DSpace/blob/master/dspace-api/src/main/java/org/dspace/rdf/RDFConsumer.java</a></span><br />
<span class="irc-date">[15:59]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/RDFConsumer.java at master · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/blob/master/dspace-api/src/main/java/org/dspace/rdf/RDFConsumer.java">https://github.com/DSpace/DSpace/blob/master/dspace-api/src/main/java/org/dspace/rdf/RDFConsumer.java</a></span><br />
<span class="irc-date">[16:01]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; I'm noticing here we have already used up our full hour (time flies!).  Thanks for the questions @philip.muench... this has been a good discussion</span><br />
<span class="irc-date">[16:01]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Nice to be welcomed so warmly, so thx right back!</span><br />
<span class="irc-date">[16:01]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; There is at lease some rdf stuff in `dspace-api`, too. I see a `RDFUtil` and some other classes. So we might need to integrate some bits of the OAI stuff into `dspace-api`.</span><br />
<span class="irc-date">[16:02]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Since our hour is up, I'm going to consider the official meeting "closed" (i.e. no new topics will be raised). But, I'd encourage discussions/brainstorms to continue (as long as folks are interested/available)</span><br />
<span class="irc-date">[16:03]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Well, since it's already 18 pm in germany, I will say goodbye for now :9</span><br />
<span class="irc-date">[16:04]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; @sulfrian: yes, that's prompting my memory a bit. I think that might have been the core issue here... some/much the OAI code would need to be moved to dspace-api to support an `OAIConsumer`.  That said, I don't know offhand how much of the code would need moving (and it might still be worth looking into, as it sounds like a better long-term solution perhaps)</span><br />
<span class="irc-date">[16:05]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; So, I'd still say this is worth looking at more closely.  We really should have an `OAIConsumer` (if not in 6.x, then maybe in 7.0).  We should understand what would be required to make that happen</span><br />
<span class="irc-date">[16:10]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; The problem, that items with the embargo needs to be indexed after the expiration of the embargo would not change with an `OAIConsumer`. We do not have events for an expiration of the embargo (at least with the current embargo system, the pre-3.x embargo stuff could implement that easily with a custom lifter).</span><br />
<span class="irc-date">[16:12]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;sulfrian&gt; We could index the items during archiving, but hide it until the embargo is expired.</span><br />
<span class="irc-date">[16:16]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; @sulfrian: Yes, that's actually how Discovery (search/browse index) works, IIRC.  All items are indexed during archiving...but embargoed ones are hidden, until embargo expires.</span><br />
<span class="irc-date">[16:16]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; So, OAI should/could act similarly</span><br />
<span class="irc-date">[16:21]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;tdonohue&gt; Honestly (and this might be a crazy idea), a part of me wonders if OAI should/could leverage the Discovery index in some way.  Not sure if that works well in practice though...but it seems like there is some code here that should be "shared" between the Discovery index and OAI index</span><br />
<span class="irc-date">[16:41]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; On my way home, I thought about how this could work. Actually, the OAI index works the way @sulfrian described it, and the item.public flag is the responsible flag for an item being displayed or not. It might be feasible to instead use a date, and compare that to the current one while OAI querying.</span><br />
<span class="irc-date">[16:41]</span> <span class="irc-black">&lt;DSpaceSlackBot&gt; &lt;philip.muench&gt; Or, to make it robust, use a list of dates, since theoretically, you could install multiple resource policies per item/bundle/bitstream.</span><br />
<span class="irc-date">[21:39]</span> <span class="irc-navy">* tdonohue (~tdonohue@dspace/tdonohue) Quit (Read error: Connection reset by peer)</span><br />
