<html>

<head>

<title>IRC Log for #duraspace on irc.freenode.net, collected by DuraLogBot</title>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="description" content="IRC Log for #duraspace" />
<meta name="keywords" content="IRC Log for #duraspace" />

<style type="text/css">
body {
    background: #ffffff;
    font-family: Verdana, Arial, Helvetica, sans-serif;
    font-size: 12px;
    color: #000000;
}
.irc-date  {font-family: Courier New, Courier, mono;}
.irc-green {color: #009200;}
.irc-black {color: #000000;}
.irc-brown {color: #7b0000;}
.irc-navy  {color: #00007b;}
.irc-brick {color: #9c009c;}
.irc-red   {color: #ff0000;}
}
</style>

</head>

<body>

<h1>#duraspace IRC Log</h1>

<p>
 <a href="index.html">Index</a>
</p>

<h2>IRC Log for 2015-11-11
</h2>
<p>
 Timestamps are in GMT/BST.
</p>

<p><span class="irc-date">[1:30]</span> <span class="irc-navy">* peterdietz (uid52203@gateway/web/irccloud.com/x-dbrlohnjypqlalel) Quit (Quit: Connection closed for inactivity)</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-brown">-morgan.freenode.net- *** Looking up your hostname...</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-brown">-morgan.freenode.net- *** Checking Ident</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-brown">-morgan.freenode.net- *** Found your hostname</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-brown">-morgan.freenode.net- *** No Ident response</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-green">* DuraLogBot (~PircBot@webster.duraspace.org) has joined #duraspace</span><br />
<span class="irc-date">[6:36]</span> <span class="irc-green">* Topic is '[Welcome to DuraSpace - This channel is logged - <a href="http://irclogs.duraspace.org/]'">http://irclogs.duraspace.org/]'</a></span><br />
<span class="irc-date">[6:36]</span> <span class="irc-green">* Set by cwilper!ad579d86@gateway/web/freenode/ip.173.87.157.134 on Fri Oct 22 01:19:41 UTC 2010</span><br />
<span class="irc-date">[7:43]</span> <span class="irc-navy">* awoods (~awoods@c-98-245-50-182.hsd1.co.comcast.net) Quit (Ping timeout: 244 seconds)</span><br />
<span class="irc-date">[7:44]</span> <span class="irc-green">* awoods (~awoods@c-98-245-50-182.hsd1.co.comcast.net) has joined #duraspace</span><br />
<span class="irc-date">[9:05]</span> <span class="irc-green">* pbecker (~pbecker@ubwstmapc098.ub.tu-berlin.de) has joined #duraspace</span><br />
<span class="irc-date">[13:13]</span> <span class="irc-green">* mhwood (mwood@mhw.ulib.iupui.edu) has joined #duraspace</span><br />
<span class="irc-date">[13:41]</span> <span class="irc-green">* tdonohue (~tdonohue@c-98-226-113-104.hsd1.il.comcast.net) has joined #duraspace</span><br />
<span class="irc-date">[14:08]</span> <span class="irc-navy">* srobbins (~srobbins@130.126.32.172) Quit (*.net *.split)</span><br />
<span class="irc-date">[14:15]</span> <span class="irc-green">* srobbins (~srobbins@130.126.32.172) has joined #duraspace</span><br />
<span class="irc-date">[14:21]</span> <span class="irc-green">* peterdietz (uid52203@gateway/web/irccloud.com/x-qzvzmqqojwtaroxy) has joined #duraspace</span><br />
<span class="irc-date">[16:25]</span> <span class="irc-green">* hpottinger (~hpottinge@mu-160190.dhcp.missouri.edu) has joined #duraspace</span><br />
<span class="irc-date">[17:25]</span> <span class="irc-green">* terry-b (~chrome@71-35-103-116.tukw.qwest.net) has joined #duraspace</span><br />
<span class="irc-date">[17:41]</span> <span class="irc-navy">* pbecker (~pbecker@ubwstmapc098.ub.tu-berlin.de) Quit (Quit: Leaving)</span><br />
<span class="irc-date">[20:00]</span> <span class="irc-black">&lt;tdonohue&gt; Hello all, it's time for our weekly DSpace Developers Mtg. Agenda: <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2015-11-11">https://wiki.duraspace.org/display/DSPACE/DevMtg+2015-11-11</a></span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;kompewter&gt; [ DevMtg 2015-11-11 - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2015-11-11">https://wiki.duraspace.org/display/DSPACE/DevMtg+2015-11-11</a></span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;tdonohue&gt; Today will mostly be about 6.0 topics (and maybe we'll even get into a few 6.0 PR reviews)</span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;tdonohue&gt; But first, just wanted to *thank* everyone for their help / involvement in getting 5.4 (and 4.4 and 3.5) out the door this week!</span><br />
<span class="irc-date">[20:02]</span> <span class="irc-black">&lt;hpottinger&gt; likewise, thank YOU tdonohue.</span><br />
<span class="irc-date">[20:02]</span> <span class="irc-black">&lt;mhwood&gt; +1</span><br />
<span class="irc-date">[20:02]</span> <span class="irc-black">&lt;tdonohue&gt; I think 5.4 went a long way to help stabilize 5.x...and now we all get to concentrate more heavily on 6.0</span><br />
<span class="irc-date">[20:02]</span> <span class="irc-black">&lt;tdonohue&gt; no problem :)</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;tdonohue&gt; So, we might as well move right along to 6.0 stuff today.</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;tdonohue&gt; First, I thought this might be a good opportunity to review our timelines for 6.0.  Namely, our deadline for feature PRs is TOMORROW: <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Status#DSpaceRelease6.0Status-TimelineandProcessing">https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Status#DSpaceRelease6.0Status-TimelineandProcessing</a></span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;mhwood&gt; pbecker couldn't be here today, but wanted to draw attention to several 6.0 blockers he's filed recently.</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace Release 6.0 Status - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Status#DSpaceRelease6.0Status-TimelineandProcessing">https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Status#DSpaceRelease6.0Status-TimelineandProcessing</a></span><br />
<span class="irc-date">[20:04]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: ok, we can get to those in a bit</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;tdonohue&gt; Regarding the timeline, I guess the question is...is there anything *outstanding* that won't be ready for review by tomorrow?</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;tdonohue&gt; I'll note that my Commons Config work *should* have a PR that is in "ready for review" state by end of day tomorrow.  It's 99% there, I think</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-brick">* tdonohue has a doorbell ringing (just a sec)</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;tdonohue&gt; back</span><br />
<span class="irc-date">[20:07]</span> <span class="irc-black">&lt;tdonohue&gt; So, is there anything else outstanding that I'm *not* aware of?  Or do we feel we should stick with the PR deadline of tomorrow?</span><br />
<span class="irc-date">[20:08]</span> <span class="irc-black">&lt;tdonohue&gt; Ok, it sounds like we likely stick to our deadline. If any PRs need more time, we can look to extend things for individuals if absolutely needed</span><br />
<span class="irc-date">[20:09]</span> <span class="irc-black">&lt;tdonohue&gt; As mhwood mentioned it, we do also have some 6.0 Blockers coming in that need help/investigation</span><br />
<span class="irc-date">[20:10]</span> <span class="irc-brick">* tdonohue is looking for a link to them</span><br />
<span class="irc-date">[20:10]</span> <span class="irc-black">&lt;tdonohue&gt; Here they are: <a href="https://jira.duraspace.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+DS+AND+fixVersion+%3D+6.0+AND+resolution+%3D+Unresolved+AND+priority+%3D+Blocker+ORDER+BY+key+DESC&amp;mode=hide">https://jira.duraspace.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+DS+AND+fixVersion+%3D+6.0+AND+resolution+%3D+Unresolved+AND+priority+%3D+Blocker+ORDER+BY+key+DESC&amp;mode=hide</a></span><br />
<span class="irc-date">[20:10]</span> <span class="irc-black">&lt;kompewter&gt; [ Issue Navigator - DuraSpace JIRA ] - <a href="https://jira.duraspace.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+DS+AND+fixVersion+%3D+6.0+AND+resolution+%3D+Unresolved+AND+priority+%3D+Blocker+ORDER+BY+key+DESC&amp;mode=hide">https://jira.duraspace.org/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+DS+AND+fixVersion+%3D+6.0+AND+resolution+%3D+Unresolved+AND+priority+%3D+Blocker+ORDER+BY+key+DESC&amp;mode=hide</a></span><br />
<span class="irc-date">[20:11]</span> <span class="irc-black">&lt;mhwood&gt; Pascal notes that JSPUI feels buggy.</span><br />
<span class="irc-date">[20:12]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: any other particular notes, beyond the blockers?</span><br />
<span class="irc-date">[20:12]</span> <span class="irc-black">&lt;mhwood&gt; That's all I had.</span><br />
<span class="irc-date">[20:12]</span> <span class="irc-black">&lt;tdonohue&gt; ok. Just checking</span><br />
<span class="irc-date">[20:12]</span> <span class="irc-black">&lt;mhwood&gt; He mentioned it Monday in IRC and I just scribbled a note to bring it up.</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;tdonohue&gt; I'm not sure if it's worth our time to dig into these blockers *now*.  But, I do encourage folks to try and help chip in / test these same things over in XMLUI. It's possible some of these are issues at the API level, and not necessarily just JSPUI</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;hpottinger&gt; I wonder if the draft DCAT checklist would be usable for thoroughly testing our two UIs?</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;tdonohue&gt; Plus, I'd encourage others to log blockers if you are hitting on major issues/bus</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;tdonohue&gt; *bugs</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: have a link handy?</span><br />
<span class="irc-date">[20:14]</span> <span class="irc-black">&lt;hpottinger&gt; I bet terry-b can beat me to it</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;tdonohue&gt; In general though, I imagine it could be useful. At the very least, it might be worth testing some of these JSPUI blocks in XMLUI as well...it'll help us narrow down the problem</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;hpottinger&gt; here's the workgroup page: <a href="https://wiki.duraspace.org/display/cmtygp/DSpace+6+Testathon+Testplan+Working+group">https://wiki.duraspace.org/display/cmtygp/DSpace+6+Testathon+Testplan+Working+group</a></span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace 6 Testathon Testplan Working group - Community Groups - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/cmtygp/DSpace+6+Testathon+Testplan+Working+group">https://wiki.duraspace.org/display/cmtygp/DSpace+6+Testathon+Testplan+Working+group</a></span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;tdonohue&gt; s/blocks/blockers</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;kompewter&gt; tdonohue meant to say: In general though, I imagine it could be useful. At the very least, it might be worth testing some of these JSPUI blockers in XMLUI as well...it'll help us narrow down the problem</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;hpottinger&gt; <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Testathon+Page">https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Testathon+Page</a></span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace Release 6.0 Testathon Page - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Testathon+Page">https://wiki.duraspace.org/display/DSPACE/DSpace+Release+6.0+Testathon+Page</a></span><br />
<span class="irc-date">[20:16]</span> <span class="irc-black">&lt;tdonohue&gt; cool!</span><br />
<span class="irc-date">[20:17]</span> <span class="irc-black">&lt;tdonohue&gt; In any case, I don't know that I want to spend too much more time on this specific topic today.  There's a lot to talk about, and considering we aren't even under a "feature freeze" we'll have plenty of testing coming up</span><br />
<span class="irc-date">[20:17]</span> <span class="irc-black">&lt;hpottinger&gt; there is more stuff somewhere, I know Edinburgh has a detailed list they use</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;hpottinger&gt; Oh, I see, "Different people's own test plans"</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;tdonohue&gt; So, I'm going to move along for now to another general topic for 6.0.  The question of whether we think about deprecating Elastic Search in 6.0 for later removal (likely in 7.0)</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;mhwood&gt; helix84 also couldn't be here, and wanted to note that ES sites like the charts that come with that stat. implementation.  He suggests to port the charting to Solr if/when ES is removed.  I think it would be good to go ahead with that regardless of ES' fate.</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;hpottinger&gt; mhwood++</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;hpottinger&gt; helix84++</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood++ as well.  I agree, it'd really just need a volunteer to make that happen. I'm not sure of the effort though</span><br />
<span class="irc-date">[20:20]</span> <span class="irc-black">&lt;tdonohue&gt; So, I guess the first question is: Do we all agree that ES should be deprecated?  If so, then we need some ticket(s) created, and one of those should be able porting ES charts to Solr Stats</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;mhwood&gt; It might be hard to support if Longsight is dropping it.</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;tdonohue&gt; So, let's do a (non-binding) vote of those here.  Those in favor of deprecating ES in 6.0?</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;hpottinger&gt; it's functionally deprecated now, isn't it?</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;mhwood&gt; +1</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;hpottinger&gt; +1 deprecation</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;tdonohue&gt; +1 deprecation</span><br />
<span class="irc-date">[20:23]</span> <span class="irc-black">&lt;terry-b&gt; +1</span><br />
<span class="irc-date">[20:23]</span> <span class="irc-black">&lt;tdonohue&gt; Ok. sounds like we need to formally deprecate it in 6.0 &amp; work to replace it in 7.0.  I'll create a ticket for both steps here, and schedule them.  If anyone disagrees, you can add notes to the ticket itself</span><br />
<span class="irc-date">[20:24]</span> <span class="irc-black">&lt;mhwood&gt; Sounds good.</span><br />
<span class="irc-date">[20:24]</span> <span class="irc-black">&lt;mhwood&gt; Thanks!</span><br />
<span class="irc-date">[20:24]</span> <span class="irc-black">&lt;hpottinger&gt; do we need to do a e-mail list vote on the deprecation?</span><br />
<span class="irc-date">[20:24]</span> <span class="irc-black">&lt;mhwood&gt; Probably, after the tickets go up.</span><br />
<span class="irc-date">[20:25]</span> <span class="irc-black">&lt;tdonohue&gt; I'll let folks know we are proposing deprecation.  If there's argument, we'll talk about it. But, unless we find another group to support it, I don't see how we can *not* deprecate it</span><br />
<span class="irc-date">[20:25]</span> <span class="irc-black">&lt;mhwood&gt; That way there is a place to record discussion.</span><br />
<span class="irc-date">[20:26]</span> <span class="irc-black">&lt;tdonohue&gt; Ok. So, I'll take care of those tickets &amp; email to dspace-devel later today or tomorrow</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;tdonohue&gt; As for other 6.0 topics. I feel it necessary to chat a bit about Commons Config.  The changes here are *massive* (maybe not as massive as Services API, but still very large).  They also are *not* going to be backwards compatible with old ways of doing configs.</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;tdonohue&gt; DSPR#1104 is the work...it's 99% done, but I need to do docs still</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://github.com/DSpace/DSpace/pull/1104">https://github.com/DSpace/DSpace/pull/1104</a> ] - DS-2654: Reloadable Configurations via Apache Commons Configuration by tdonohue</span><br />
<span class="irc-date">[20:28]</span> <span class="irc-black">&lt;tdonohue&gt; There's a few key things to be aware of:</span><br />
<span class="irc-date">[20:28]</span> <span class="irc-black">&lt;tdonohue&gt; (1) Build.properties is completely gone.  It's been replaced by a new "local.cfg" file which can be used to override *any* config setting from *any* cfg file (even under /modules)</span><br />
<span class="irc-date">[20:28]</span> <span class="irc-black">&lt;mhwood&gt; [applause]</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;tdonohue&gt; Here's a sample <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/local.cfg.EXAMPLE">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/local.cfg.EXAMPLE</a></span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;terry-b&gt; That is fantastic and will greatly simplify upgrades!</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/local.cfg.EXAMPLE at DS-2654-common-config · tdonohue/DSpace · GitHub ] - <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/local.cfg.EXAMPLE">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/local.cfg.EXAMPLE</a></span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-2654">https://jira.duraspace.org/browse/DS-2654</a> ] - [DS-2654] Reloadable Configurations via Apache Commons Configuration - DuraSpace JIRA</span><br />
<span class="irc-date">[20:30]</span> <span class="irc-black">&lt;tdonohue&gt; There's a new "local.cfg.EXAMPLE" which can be used to "start" your dspace.cfg.  It looks kinda like build.properties, but is something *completely* different (as you can add any config you want to it)</span><br />
<span class="irc-date">[20:30]</span> <span class="irc-black">&lt;tdonohue&gt; s/dspace.cfg/local.cfg</span><br />
<span class="irc-date">[20:30]</span> <span class="irc-black">&lt;kompewter&gt; tdonohue meant to say: There's a new "local.cfg.EXAMPLE" which can be used to "start" your local.cfg.  It looks kinda like build.properties, but is something *completely* different (as you can add any config you want to it)</span><br />
<span class="irc-date">[20:31]</span> <span class="irc-black">&lt;tdonohue&gt; The DSpace build/compilation process DOES NOT USE "local.cfg".  It's NOT like how build.properties was built heavily into the build/compilation</span><br />
<span class="irc-date">[20:32]</span> <span class="irc-black">&lt;tdonohue&gt; local.cfg *is* used by Ant though...*only* to get the "dspace.dir".  Technically, if we required specifying that directory to "ant update", then local.cfg wouldn't even need to be used there</span><br />
<span class="irc-date">[20:32]</span> <span class="irc-black">&lt;mhwood&gt; [applause]</span><br />
<span class="irc-date">[20:33]</span> <span class="irc-black">&lt;tdonohue&gt; All the crazy weird "filtering" of values (of things like ${dspace.dir}) is also COMPLETELY GONE.  So, your final "dspace.cfg" and "local.cfg" *can* include ${variables} and everything will work perfectly.  All the filtering is removed</span><br />
<span class="irc-date">[20:33]</span> <span class="irc-black">&lt;hpottinger&gt; this is pretty cool, exciting work, tdonohue</span><br />
<span class="irc-date">[20:33]</span> <span class="irc-black">&lt;mhwood&gt; [WILD APPLAUSE]</span><br />
<span class="irc-date">[20:34]</span> <span class="irc-black">&lt;tdonohue&gt; I literally ripped out all the filtering from both Maven &amp; Ant. It's all gone</span><br />
<span class="irc-date">[20:34]</span> <span class="irc-black">&lt;tdonohue&gt; To get this all to work, there are a few "gotchas" though.... the biggest one is:  Some configuration settings HAD TO BE RENAMED</span><br />
<span class="irc-date">[20:35]</span> <span class="irc-black">&lt;tdonohue&gt; Unfortunately, we can no longer have two settings named "enabled=true" which are in separate *.cfg files...they all had to be prepended with a prefix in order to make config keys unique</span><br />
<span class="irc-date">[20:36]</span> <span class="irc-black">&lt;tdonohue&gt; So, this does mean the upgrade of your configuration settings will be slightly painful (but then *much* easier in the future if you use the local.cfg)</span><br />
<span class="irc-date">[20:37]</span> <span class="irc-black">&lt;mhwood&gt; I can live with that.  Naming of config. settings has been rather chaotic.  Maybe we need to create some written guidelines.</span><br />
<span class="irc-date">[20:38]</span> <span class="irc-black">&lt;tdonohue&gt; I'll also note that even though this is called "Reloadable" configuration (we may need to rename that for 6.0)... the actual "reloadable-ness" of individual configs is currently NOT guaranteed.   Technically, since we are using Commons Configs, individual settings *are* reloadable. But, DSpace has a bad habit of storing config settings in "static" fields which *never* actually re-loading the config value in code</span><br />
<span class="irc-date">[20:38]</span> <span class="irc-black">&lt;tdonohue&gt; I had to draw the line at tracking down all those crazy "static" fields. It's too hard, and I think there are a lot of them</span><br />
<span class="irc-date">[20:39]</span> <span class="irc-black">&lt;cwilper&gt; tdonohue: looks interesting, good to move to third party utils for doing this type of stuff.  one thing i think people will be curious about is what the new pattern is for environment-specific settings. (replacement for -Denv=prod/test/etc).</span><br />
<span class="irc-date">[20:39]</span> <span class="irc-black">&lt;tdonohue&gt; But, even without the full "reloadable-ness"... the addition of the local.cfg is a MAJOR improvement (IMHO)</span><br />
<span class="irc-date">[20:39]</span> <span class="irc-black">&lt;terry-b&gt; Could a tool be written to facilitate the migration of settings - scan an active config and dump all settings that re not default.</span><br />
<span class="irc-date">[20:39]</span> <span class="irc-black">&lt;mhwood&gt; Any code that uses ConfigurationManager likely was written that way.  Code that uses ConfigurationService is more likely to do so dynamically since CS was written with reloadability in mind.</span><br />
<span class="irc-date">[20:40]</span> <span class="irc-black">&lt;tdonohue&gt; cwilper: thanks for the prompt.  In our Apache Commons Config settings, I've set it up so that you can override ANY config from environment variables or System properties.   So, you can do -Ddspace.dir... and it'll override what is in your local.cfg/dspace.cfg</span><br />
<span class="irc-date">[20:41]</span> <span class="irc-black">&lt;tdonohue&gt; The ordering is the System Properties overrides everything, then environment variables, then local.cfg, finally dspace.cfg (and other /modules/*.cfg)</span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;tdonohue&gt; But, that ordering can be completely customized in a new "config-definition.xml" file: <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml</a></span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/config-definition.xml at DS-2654-common-config · tdonohue/DSpace · GitHub ] - <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml</a></span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-2654">https://jira.duraspace.org/browse/DS-2654</a> ] - [DS-2654] Reloadable Configurations via Apache Commons Configuration - DuraSpace JIRA</span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;mhwood&gt; modules/*.cfg are all in the same namespace with dspace.cfg now, yes?</span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: correct.  now the "dspace.cfg" essentially "loads" the modules/*.cfg files within itself</span><br />
<span class="irc-date">[20:43]</span> <span class="irc-black">&lt;mhwood&gt; So we can have yet more elaborate schemes if we choose.  I foresee some simplification of the test environment setup....</span><br />
<span class="irc-date">[20:43]</span> <span class="irc-black">&lt;tdonohue&gt; As I mentioned earlier in the meeting, my code is nearly all at a state where you can pull it down and try it out.  There's a few things outstanding:</span><br />
<span class="irc-date">[20:44]</span> <span class="irc-black">&lt;tdonohue&gt; (1) I need to fix web.xml files to no longer require filtering (I know the fix, just haven't done it yet).. Currently they cannot figure out what ${dspace.dir} means</span><br />
<span class="irc-date">[20:44]</span> <span class="irc-black">&lt;tdonohue&gt; (2) I need to provide more documentation on how to get started and what all has changed</span><br />
<span class="irc-date">[20:44]</span> <span class="irc-black">&lt;tdonohue&gt; everything else *works*</span><br />
<span class="irc-date">[20:44]</span> <span class="irc-black">&lt;mhwood&gt; terry-b:  I think it shouldn't be hard to read in two .properties and output the diff.</span><br />
<span class="irc-date">[20:45]</span> <span class="irc-black">&lt;hpottinger&gt; tdonohue: how can we help?</span><br />
<span class="irc-date">[20:46]</span> <span class="irc-black">&lt;tdonohue&gt; back to cwilpers note here... I should be clear though that the "-Denv" setting is *gone* from the build/compilation process. That was an artifact of build.properties, and as I mentioned "local.cfg" isn't used in the build/compilation.  But, you *can* now specific -D[anysetting]=[newvalue] during *runtime* (in Tomcat, etc) and it'll override the value in you config files</span><br />
<span class="irc-date">[20:47]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: i think the biggest help will be in getting testers/feedback.  I wanted to start today in getting any feedback/questions and making it clear what *is* and *is not* included in this change</span><br />
<span class="irc-date">[20:47]</span> <span class="irc-black">&lt;mhwood&gt; I will not miss the ever-growing list of things that *had to* be customized in build.properties.</span><br />
<span class="irc-date">[20:48]</span> <span class="irc-black">&lt;tdonohue&gt; I can also let everyone know once the PR is ready for testing (should be tomorrow)... the docs will likely be very much a Work in progress for some time. But, I can quickly write up the basics of getting started</span><br />
<span class="irc-date">[20:49]</span> <span class="irc-black">&lt;tdonohue&gt; I think that's all I wanted to say...and sorry to have taken up so much time...but I think this PR is quite important to get feedback on</span><br />
<span class="irc-date">[20:49]</span> <span class="irc-black">&lt;cwilper&gt; tdonohue: happy to kick the tires a bit. we typically have 3 to 5 different environments (local/ci/staging/prod) per dspace instance we manage.</span><br />
<span class="irc-date">[20:50]</span> <span class="irc-black">&lt;mhwood&gt; It is quite a change, and one that will be more visible to installations than the *other* big change in 6.0.</span><br />
<span class="irc-date">[20:50]</span> <span class="irc-black">&lt;hpottinger&gt; I'll need to experiement with different ways to reproduce the functionality of env.properties, I think ENV Variables would probably work (and not expose sensitive info in a process listing) but I'll need to tinker to be sure</span><br />
<span class="irc-date">[20:50]</span> <span class="irc-black">&lt;tdonohue&gt; cwilper: I'd encourage you to definitely kick the tires.  You already can take an early look at the PR...but the web.xml's will be ever so slightly broken till I finish that fix</span><br />
<span class="irc-date">[20:51]</span> <span class="irc-black">&lt;mhwood&gt; Here we just stomp all over the web.xml value of dspace.dir with &lt;Parameter&gt;s in the &lt;Context&gt;.</span><br />
<span class="irc-date">[20:52]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: I did worry initially about ditching "-Denv=[]" settings...but, in the end, I think Commons config offers *better* (more standard) ways to do similar things. You could now set configs in your CATALINA_OPTS, for example</span><br />
<span class="irc-date">[20:52]</span> <span class="irc-black">&lt;mhwood&gt; I only recently became aware that there was even a value in there.</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;hpottinger&gt; right, I just need to figure out how to do it the "better" way :-)</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;tdonohue&gt; Any last questions on the Commons Config stuff that I can clarify? (If not, we can move along to other things)</span><br />
<span class="irc-date">[20:54]</span> <span class="irc-black">&lt;cwilper&gt; more standard = good. i think there may be a way to still do something -Denv-like in the new way, but i want to get a better sense of what's at our disposal in the branch as-is before suggesting changes.</span><br />
<span class="irc-date">[20:54]</span> <span class="irc-black">&lt;hpottinger&gt; I suspect I may need to approach this like puppet does hiera, and specify a new cfg file</span><br />
<span class="irc-date">[20:54]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: yes, there may be a small learning curve with that...especially for folks who relied heavily on the "-Denv" build settings.  But, I think we'll come up with much better ways by sharing notes</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;tdonohue&gt; It *is* possible to add more config files by specifying them in your "config-definition.xml" (I linked to it above).  By default, that just looks for a "local.cfg" and a "dspace.cfg" though</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;mhwood&gt; I eventually threw in the towel and wrote a script to write systematically customized whatever.properties, but that's easily converted to writing .cfg files and now I don't have to be always looking over my shoulder to see what new settings have been added (that will break installation until I fix my script).</span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;tdonohue&gt; There's essentially a *ton* of flexibility we are gaining in this route...and honestly, most of what I've done is rip out a bunch of code which was hacking around the "build.properties" concept to make it work "kinda like" Commons Config (in overriding config values)</span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;hpottinger&gt; what I meant when I said "like puppet does hiera": <a href="https://github.com/DSpace/vagrant-dspace/blob/a9fb0875997f9128537b2564067c4821531ec815/hiera.yaml">https://github.com/DSpace/vagrant-dspace/blob/a9fb0875997f9128537b2564067c4821531ec815/hiera.yaml</a></span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;kompewter&gt; [ vagrant-dspace/hiera.yaml at a9fb0875997f9128537b2564067c4821531ec815 · DSpace/vagrant-dspace · GitHub ] - <a href="https://github.com/DSpace/vagrant-dspace/blob/a9fb0875997f9128537b2564067c4821531ec815/hiera.yaml">https://github.com/DSpace/vagrant-dspace/blob/a9fb0875997f9128537b2564067c4821531ec815/hiera.yaml</a></span><br />
<span class="irc-date">[20:58]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: if you look closely at the config-definition.xml file...it's *kinda* like a hiera.yml.  But, it's an XML file so it's a ton more wordy <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml</a></span><br />
<span class="irc-date">[20:58]</span> <span class="irc-black">&lt;kompewter&gt; [ DSpace/config-definition.xml at DS-2654-common-config · tdonohue/DSpace · GitHub ] - <a href="https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml">https://github.com/tdonohue/DSpace/blob/DS-2654-common-config/dspace/config/config-definition.xml</a></span><br />
<span class="irc-date">[20:58]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-2654">https://jira.duraspace.org/browse/DS-2654</a> ] - [DS-2654] Reloadable Configurations via Apache Commons Configuration - DuraSpace JIRA</span><br />
<span class="irc-date">[20:58]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: but the end result is that config-definition.xml *tells* Apache Commons Configuration where to find the configs.  You can even tell it to load them from a *database* in that config file</span><br />
<span class="irc-date">[20:59]</span> <span class="irc-black">&lt;hpottinger&gt; looking at it now, I think we would just need a middle layer between local and dspace cfg</span><br />
<span class="irc-date">[20:59]</span> <span class="irc-black">&lt;hpottinger&gt; loca, usual and customary, and dspace cfgs</span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;mhwood&gt; If you strain out the comments, there's really very little there.  Not wordy at all.</span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: in case you want to dig deeper, this "config-definition.xml" is a standard config file for Apache Commons Config. The full docs of *everything* you could do within it are here: <a href="http://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_configurationbuilder.html">http://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_configurationbuilder.html</a></span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;kompewter&gt; [ Commons Configuration – Configuration Builder Howto ] - <a href="http://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_configurationbuilder.html">http://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_configurationbuilder.html</a></span><br />
<span class="irc-date">[21:01]</span> <span class="irc-black">&lt;mhwood&gt; (I used to write COBOL, though, and still do on occasion, so my idea of "wordy" may be unusual today.)</span><br />
<span class="irc-date">[21:01]</span> <span class="irc-black">&lt;tdonohue&gt; As I said, Apache Commons Config even allows you to load configs from a database backend, XML config files, etc.... we're just using the Property-style config settings, as that is what we use</span><br />
<span class="irc-date">[21:02]</span> <span class="irc-black">&lt;cwilper&gt; gtg for now, but definitely want to compare notes with ya'll on strategies for doing env-specific stuff. another thought is just to use a symlink in each clone the points to the appropriate actual local.cfg for that environment. all in all, i'm glad to see code getting ripped out.</span><br />
<span class="irc-date">[21:02]</span> <span class="irc-black">&lt;mhwood&gt; Mmmm...JNDI....</span><br />
<span class="irc-date">[21:02]</span> <span class="irc-black">&lt;tdonohue&gt; In any case...we've talked our way through a whole hour :)</span><br />
<span class="irc-date">[21:03]</span> <span class="irc-black">&lt;tdonohue&gt; Next week, we'll need to concentrate on reviewing 6.0 PRs.  Obviously though, please keep reviewing PRs of high-importance offline &amp; merging them once they get a few +1's</span><br />
<span class="irc-date">[21:03]</span> <span class="irc-black">&lt;tdonohue&gt; Any final thoughts/questions for today?</span><br />
<span class="irc-date">[21:04]</span> <span class="irc-black">&lt;hpottinger&gt; save me some backtracking and link your PR again?</span><br />
<span class="irc-date">[21:05]</span> <span class="irc-black">&lt;hpottinger&gt; too late, I found it: <a href="https://github.com/DSpace/DSpace/pull/1104">https://github.com/DSpace/DSpace/pull/1104</a></span><br />
<span class="irc-date">[21:05]</span> <span class="irc-black">&lt;kompewter&gt; [ DS-2654: Reloadable Configurations via Apache Commons Configuration by tdonohue · Pull Request #1104 · DSpace/DSpace · GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/1104">https://github.com/DSpace/DSpace/pull/1104</a></span><br />
<span class="irc-date">[21:05]</span> <span class="irc-black">&lt;tdonohue&gt; OK, we'll close up the meeting for today. Thanks all!</span><br />
<span class="irc-date">[21:18]</span> <span class="irc-black">&lt;mhwood&gt; Anyone looking for something simple to review may wish to have a look at DSPR#1019 :-)</span><br />
<span class="irc-date">[21:18]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://github.com/DSpace/DSpace/pull/1019">https://github.com/DSpace/DSpace/pull/1019</a> ] - [DS-2463] iplists.com-non_engines.txt is outdated and slow by mwoodiupui</span><br />
<span class="irc-date">[21:29]</span> <span class="irc-black">&lt;hpottinger&gt; mhwood: I think 1019 looks fine, and just porting the user agent strings from the old file works for me</span><br />
<span class="irc-date">[21:29]</span> <span class="irc-black">&lt;hpottinger&gt; (the approach, I haven't tested)</span><br />
<span class="irc-date">[21:29]</span> <span class="irc-black">&lt;mhwood&gt; Thanks, glad to hear it.</span><br />
<span class="irc-date">[21:29]</span> <span class="irc-black">&lt;hpottinger&gt; (but I see no reason why it wouldn't work)</span><br />
<span class="irc-date">[21:41]</span> <span class="irc-black">&lt;hpottinger&gt; 1019 has my +1</span><br />
<span class="irc-date">[21:41]</span> <span class="irc-black">&lt;mhwood&gt; Thank you.</span><br />
<span class="irc-date">[22:08]</span> <span class="irc-green">* mhwood (mwood@mhw.ulib.iupui.edu) has left #duraspace</span><br />
<span class="irc-date">[22:46]</span> <span class="irc-navy">* hpottinger (~hpottinge@mu-160190.dhcp.missouri.edu) Quit (Quit: Leaving, later taterz!)</span><br />
<span class="irc-date">[23:15]</span> <span class="irc-green">* tdonohue (~tdonohue@c-98-226-113-104.hsd1.il.comcast.net) has left #duraspace</span><br />
</p>

<p>
 These logs were automatically created by <b>DuraLogBot</b> on
 <a href="irc://irc.freenode.net/duraspace">irc.freenode.net</a>
 using the <a href="http://www.jibble.org/logbot/">Java IRC LogBot</a>.
</p>

</body>

</html>