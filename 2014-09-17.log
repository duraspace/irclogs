<span class="irc-date">[1:48]</span> <span class="irc-navy">* helix84 (~ctenar@195.178.95.132) Quit (*.net *.split)</span><br />
<span class="irc-date">[1:54]</span> <span class="irc-green">* helix84 (~ctenar@195.178.95.132) has joined #duraspace</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-brown">-sendak.freenode.net- *** Looking up your hostname...</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-brown">-sendak.freenode.net- *** Checking Ident</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-brown">-sendak.freenode.net- *** Found your hostname</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-brown">-sendak.freenode.net- *** No Ident response</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-green">* DuraLogBot (~PircBot@ec2-107-22-210-74.compute-1.amazonaws.com) has joined #duraspace</span><br />
<span class="irc-date">[6:47]</span> <span class="irc-green">* Topic is '[Welcome to DuraSpace - This channel is logged - <a href="http://irclogs.duraspace.org/]'">http://irclogs.duraspace.org/]'</a></span><br />
<span class="irc-date">[6:47]</span> <span class="irc-green">* Set by cwilper!ad579d86@gateway/web/freenode/ip.173.87.157.134 on Fri Oct 22 01:19:41 UTC 2010</span><br />
<span class="irc-date">[6:57]</span> <span class="irc-green">* kostasp (5e45fcdf@gateway/web/freenode/ip.94.69.252.223) has joined #duraspace</span><br />
<span class="irc-date">[7:28]</span> <span class="irc-navy">* kostasp (5e45fcdf@gateway/web/freenode/ip.94.69.252.223) Quit (Quit: Page closed)</span><br />
<span class="irc-date">[9:22]</span> <span class="irc-green">* pbecker (~pbecker@ubwstmapc098.ub.tu-berlin.de) has joined #duraspace</span><br />
<span class="irc-date">[12:26]</span> <span class="irc-green">* tdonohue (~tdonohue@c-98-215-0-161.hsd1.il.comcast.net) has joined #duraspace</span><br />
<span class="irc-date">[12:53]</span> <span class="irc-navy">* peterdietz (~peterdiet@server112.longsightgroup.com) Quit (Quit: peterdietz)</span><br />
<span class="irc-date">[12:56]</span> <span class="irc-green">* mhwood (mwood@mhw.ulib.iupui.edu) has joined #duraspace</span><br />
<span class="irc-date">[14:03]</span> <span class="irc-green">* kdweeks (~Adium@2001:468:c80:a103:b44d:7913:fbad:51c9) has joined #duraspace</span><br />
<span class="irc-date">[16:39]</span> <span class="irc-green">* hpottinger (~hpottinge@mu-161174.dhcp.missouri.edu) has joined #duraspace</span><br />
<span class="irc-date">[17:00]</span> <span class="irc-navy">* misilot (~misilot@p-body.lib.fit.edu) Quit (*.net *.split)</span><br />
<span class="irc-date">[17:00]</span> <span class="irc-green">* misilot (~misilot@p-body.lib.fit.edu) has joined #duraspace</span><br />
<span class="irc-date">[18:31]</span> <span class="irc-green">* hamslaai1 (~hilton@197.79.73.255) has joined #duraspace</span><br />
<span class="irc-date">[19:13]</span> <span class="irc-green">* terryb (~anonymous@162.244.138.212) has joined #duraspace</span><br />
<span class="irc-date">[19:36]</span> <span class="irc-green">* peterdietz (~peterdiet@server112.longsightgroup.com) has joined #duraspace</span><br />
<span class="irc-date">[19:48]</span> <span class="irc-green">* KevinVdV (~KevinVdV@d5153D041.access.telenet.be) has joined #duraspace</span><br />
<span class="irc-date">[19:50]</span> <span class="irc-navy">* KevinVdV (~KevinVdV@d5153D041.access.telenet.be) Quit (Client Quit)</span><br />
<span class="irc-date">[19:51]</span> <span class="irc-green">* KevinVdV (~KevinVdV@d5153D041.access.telenet.be) has joined #duraspace</span><br />
<span class="irc-date">[20:00]</span> <span class="irc-green">* robint (5eaf588c@gateway/web/freenode/ip.94.175.88.140) has joined #duraspace</span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;tdonohue&gt; Hi all, it's time for our weekly DSpace Devel Mtg. Rough Agenda: <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2014-09-17">https://wiki.duraspace.org/display/DSPACE/DevMtg+2014-09-17</a></span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;kompewter&gt; [ DevMtg 2014-09-17 - DSpace - DuraSpace Wiki ] - <a href="https://wiki.duraspace.org/display/DSPACE/DevMtg+2014-09-17">https://wiki.duraspace.org/display/DSPACE/DevMtg+2014-09-17</a></span><br />
<span class="irc-date">[20:01]</span> <span class="irc-black">&lt;tdonohue&gt; Again, we'll kick off with the usual reminders...</span><br />
<span class="irc-date">[20:02]</span> <span class="irc-black">&lt;tdonohue&gt; 1) Our 5.0 Feature PR deadline is rapidly approaching!  Just about 2 weeks, on October 6.</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-green">* mdiggory (~anonymous@86.39.200.115.static.hosted.by.easyhost.be) has joined #duraspace</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;tdonohue&gt; 2) If we have anyone who would like to jump onto the 5.0 Release Team, there are still spots available...I know they'll need our help more and more in the coming weeks anyhow</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;hpottinger&gt; please?</span><br />
<span class="irc-date">[20:03]</span> <span class="irc-black">&lt;hpottinger&gt; :-)</span><br />
<span class="irc-date">[20:04]</span> <span class="irc-black">&lt;tdonohue&gt; Basically, 5.0 is starting to "take final shape" in the coming weeks here.  If you have anything still outstanding, be sure to get a PR created soon and/or talk with the 5.0 RT (and us) about what is still coming</span><br />
<span class="irc-date">[20:04]</span> <span class="irc-black">&lt;peterdietz&gt; Can I join?</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;tdonohue&gt; join? you're leading! :)</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;tdonohue&gt; in any case, the rest of today's meeting is set aside to talk about 5.0 Features (especially any with PRs already)</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;tdonohue&gt; or any other 5.0 related topics/questions you may have</span><br />
<span class="irc-date">[20:05]</span> <span class="irc-black">&lt;hpottinger&gt; oh, yes, can *I* joint the RT, too?</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;hpottinger&gt; s/joint/join/g</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;kompewter&gt; hpottinger meant to say: oh, yes, can *I* join the RT, too?</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;robint&gt; That makes 4 on the team now - Peter, Peter, Hardy, and Hardy</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;tdonohue&gt; nice! we've got a great team shaping up now!</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;hpottinger&gt; excellent, and we also have all the former RCs</span><br />
<span class="irc-date">[20:06]</span> <span class="irc-black">&lt;mhwood&gt; But each is only half-time.</span><br />
<span class="irc-date">[20:08]</span> <span class="irc-black">&lt;tdonohue&gt; So, all kidding aside, I figured it'd be good to revisit DS-1582 / DSPR#629 today, as it has the potential to affect other PRs coming in the pipeline</span><br />
<span class="irc-date">[20:08]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://github.com/DSpace/DSpace/pull/629">https://github.com/DSpace/DSpace/pull/629</a> ] - Support Metadata On All DSpaceObjects by KevinVdV</span><br />
<span class="irc-date">[20:08]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-1582">https://jira.duraspace.org/browse/DS-1582</a> ] - [DS-1582] All DSpaceObjects should have metadata support - DuraSpace JIRA</span><br />
<span class="irc-date">[20:09]</span> <span class="irc-black">&lt;tdonohue&gt; So, the first question is, has anyone been able to pull away some time to do a review/test?  Looks like mhwood did add some minor code comments to the PR</span><br />
<span class="irc-date">[20:09]</span> <span class="irc-black">&lt;tdonohue&gt; And I actually just noticed that KevinVdV asked that we not merge the PR quite yet.</span><br />
<span class="irc-date">[20:10]</span> <span class="irc-black">&lt;mhwood&gt; He's addressed all of my noise about isOracle() too.</span><br />
<span class="irc-date">[20:10]</span> <span class="irc-black">&lt;tdonohue&gt; nice.</span><br />
<span class="irc-date">[20:11]</span> <span class="irc-black">&lt;KevinVdV&gt; Yeah the pull request requires a rebase &amp; the unit test for oai were still failing.</span><br />
<span class="irc-date">[20:11]</span> <span class="irc-black">&lt;KevinVdV&gt; But it is good to test</span><br />
<span class="irc-date">[20:11]</span> <span class="irc-black">&lt;tdonohue&gt; I'll admit, this is still on my "todo" to give it a test run (by trying to upgrade an existing DB to one with Metadata on all)...but I haven't gotten to it yet</span><br />
<span class="irc-date">[20:12]</span> <span class="irc-black">&lt;robint&gt; Likewise, just struggling to find testing time</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;tdonohue&gt; Anyone else out there able to help try and give this a look in the next few days/week?</span><br />
<span class="irc-date">[20:13]</span> <span class="irc-black">&lt;KevinVdV&gt; Has anybody else tested it yet ? Because I really would like some other people confirming it doesnâ€™t break anything</span><br />
<span class="irc-date">[20:14]</span> <span class="irc-black">&lt;mhwood&gt; Hm, actually there are still three instances of db.name.</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;tdonohue&gt; I'm guessing that silence = nobody has tested it yet.... which means we really need testers</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: yea, I see those too...there's still three instances that need to change to DatabaseManager.isOracle()</span><br />
<span class="irc-date">[20:15]</span> <span class="irc-black">&lt;KevinVdV&gt; Indeed but these changes I left because I didnâ€™t alter those calls.</span><br />
<span class="irc-date">[20:16]</span> <span class="irc-black">&lt;KevinVdV&gt; Donâ€™t want to invalidate the pull request from mwood</span><br />
<span class="irc-date">[20:16]</span> <span class="irc-black">&lt;mhwood&gt; Ah, I see, thanks!</span><br />
<span class="irc-date">[20:17]</span> <span class="irc-black">&lt;mhwood&gt; I'm trying to think how to actually test this properly.</span><br />
<span class="irc-date">[20:17]</span> <span class="irc-black">&lt;KevinVdV&gt; The metadata for all ?</span><br />
<span class="irc-date">[20:17]</span> <span class="irc-black">&lt;mhwood&gt; Yes.</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;KevinVdV&gt; Well the best way to setup a simple test instance, add some communities, collections, items, ....</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;KevinVdV&gt; &amp; migrate the data with the pull request &amp; test the dspace</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;tdonohue&gt; My idea for testing would be: (1) Take an copy of an existing DB, (2) Pull down the PR#629, (3) Upgrade/Migrate the existing DB, (4) Rebuild with PR in place....(5) Redeploy and test that everything still seems to work</span><br />
<span class="irc-date">[20:18]</span> <span class="irc-black">&lt;mhwood&gt; It's that "everything" that worries me.</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;mhwood&gt; But, basically just a smoke test.</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;KevinVdV&gt; A good start would be to check the current metadata</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;KevinVdV&gt; IS everything still there</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;KevinVdV&gt; Next create a new community/collection/item/bitstream/group/eperson</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;tdonohue&gt; Yea...a smoke test...browse around, make sure the data is there. Try editing a few things, try creating a new Item, etc.</span><br />
<span class="irc-date">[20:19]</span> <span class="irc-black">&lt;KevinVdV&gt; &amp; see if that still works</span><br />
<span class="irc-date">[20:20]</span> <span class="irc-black">&lt;tdonohue&gt; basically make sure nothing *obvious* breaks.  It'll get an even more thorough test during Testathon, but we want to ensure that it doesn't massively break the codebase all over</span><br />
<span class="irc-date">[20:20]</span> <span class="irc-black">&lt;hpottinger&gt; if you're so moved to actually script those tests...</span><br />
<span class="irc-date">[20:20]</span> <span class="irc-black">&lt;tdonohue&gt; I would *love* it if we could script such tests ;)</span><br />
<span class="irc-date">[20:21]</span> <span class="irc-black">&lt;KevinVdV&gt; Iâ€™m afraid nobody can guarantee that EVERYTHING is bugfree, but that is what a Testathon is for</span><br />
<span class="irc-date">[20:21]</span> <span class="irc-black">&lt;mhwood&gt; I will try to clear some time within a week to spin up a patched instance and try it.</span><br />
<span class="irc-date">[20:21]</span> <span class="irc-black">&lt;robint&gt; KevinVdv: agreed, this should just be a sanity check</span><br />
<span class="irc-date">[20:21]</span> <span class="irc-black">&lt;tdonohue&gt; thanks mhwood!</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;hpottinger&gt; VagrantDSpace spins up PRs pretty quickly, and can populate itself from a pile of AIPs</span><br />
<span class="irc-date">[20:22]</span> <span class="irc-black">&lt;tdonohue&gt; I'll try to do the same...although I still have several tasks on my plate before this one that I need to try and get through quickly</span><br />
<span class="irc-date">[20:23]</span> <span class="irc-green">* hamslaai1 (~hilton@197.79.73.255) has left #duraspace</span><br />
<span class="irc-date">[20:23]</span> <span class="irc-black">&lt;hpottinger&gt; REST-API has a nice machine-readable interface...</span><br />
<span class="irc-date">[20:23]</span> <span class="irc-brick">* hpottinger is sure he can goad *someone* into writing a better smoke test...</span><br />
<span class="irc-date">[20:25]</span> <span class="irc-black">&lt;tdonohue&gt; If we can find a few other folks to help give it a test run, that'd be great.  Another option here would be to spin up a central test (perhaps even on demo.dspace.org if there's enough memory) which we can all bang on a bit</span><br />
<span class="irc-date">[20:26]</span> <span class="irc-black">&lt;tdonohue&gt; In any case, we have at least a few folks stepping forward, so hopefully we can get this reviewed/tested sooner rather than later</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;tdonohue&gt; (and if I can get to it, I might see if demo.dspace.org has enough space for a test version up there to bang on...we'll see)</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;KevinVdV&gt; Agreed, all feedback is welcome</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;tdonohue&gt; Are there any other 5.0 PRs to discuss today?</span><br />
<span class="irc-date">[20:27]</span> <span class="irc-black">&lt;KevinVdV&gt; I will be finishing the pull request</span><br />
<span class="irc-date">[20:28]</span> <span class="irc-black">&lt;tdonohue&gt; thanks KevinVdV...definitely let us know when the final PR is up too...even though the existing should be testable</span><br />
<span class="irc-date">[20:28]</span> <span class="irc-black">&lt;tdonohue&gt; Oh, another thing to note in general... We are still having Travis CI issues (not sure if anyone has noticed much)</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;tdonohue&gt; They popped back in place with DS-2133</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://jira.duraspace.org/browse/DS-2133">https://jira.duraspace.org/browse/DS-2133</a> ] - [DS-2133] Mirage2 and Travis CI build - DuraSpace JIRA</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;tdonohue&gt; I've since tried to fix them with DSPR#648, but even that one fails randomly</span><br />
<span class="irc-date">[20:29]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://github.com/DSpace/DSpace/pull/648">https://github.com/DSpace/DSpace/pull/648</a> ] - More Travis CI build fixes related to DS-2133 by tdonohue</span><br />
<span class="irc-date">[20:30]</span> <span class="irc-black">&lt;robint&gt; tdonohue: How are you initiating the Maven build? I mean, what Maven profiles?</span><br />
<span class="irc-date">[20:30]</span> <span class="irc-black">&lt;tdonohue&gt; From what I can tell, TravisCI doesn't like our final "assembly" (where the 'dspace' module actually creates the 'dspace-installer' directory).... I'm suspecting it uses too much memory or CPU, especially with the number of separate modules we are now combining/assembling</span><br />
<span class="irc-date">[20:31]</span> <span class="irc-black">&lt;tdonohue&gt; robint: Take a look at the changes here. <a href="https://github.com/DSpace/DSpace/pull/648/files#diff-354f30a63fb0907d4ad57269548329e3R29">https://github.com/DSpace/DSpace/pull/648/files#diff-354f30a63fb0907d4ad57269548329e3R29</a></span><br />
<span class="irc-date">[20:31]</span> <span class="irc-black">&lt;kompewter&gt; [ More Travis CI build fixes related to DS-2133 by tdonohue Â· Pull Request #648 Â· DSpace/DSpace Â· GitHub ] - <a href="https://github.com/DSpace/DSpace/pull/648/files#diff-354f30a63fb0907d4ad57269548329e3R29">https://github.com/DSpace/DSpace/pull/648/files#diff-354f30a63fb0907d4ad57269548329e3R29</a></span><br />
<span class="irc-date">[20:32]</span> <span class="irc-black">&lt;robint&gt; tdonohue: yes, looking at the PR, bit slow off the mark today :)</span><br />
<span class="irc-date">[20:32]</span> <span class="irc-black">&lt;tdonohue&gt; it's two steps...(1) "mvn install -Dmaven.test.skip=false" (which Always works..our Unit tests always succeed)</span><br />
<span class="irc-date">[20:33]</span> <span class="irc-black">&lt;tdonohue&gt; Followed by (2) "mvn package -Dmirage2.on=true -Dmirage2.deps.included=false" (from [src]/dspace/).... (This is what randomly fails on the building of /target/dspace-installer/)</span><br />
<span class="irc-date">[20:34]</span> <span class="irc-black">&lt;tdonohue&gt; I've tried a million different options to try and encourage Travis along. But, I'm starting to suspect that we may not be able to run the full "assembly" (of /target/dspace-installer) on Travis CI...instead, we can just do Unit Tests and individual module assemblies</span><br />
<span class="irc-date">[20:34]</span> <span class="irc-black">&lt;mhwood&gt; I wonder if there is a problem with m-assembly-p itself, perhaps addressed by a newer version.</span><br />
<span class="irc-date">[20:34]</span> <span class="irc-black">&lt;tdonohue&gt; we're on the latest version of m-assembly-p.  Tried that too :)</span><br />
<span class="irc-date">[20:36]</span> <span class="irc-black">&lt;tdonohue&gt; I *haven't* tried reverting to older versions of m-assembly-p.  But, yes, the problem here is EITHER m-assembly-p itself, OR m-assembly-p just uses a lot of memory/CPU when packing up 11 separate modules (which is what we have)</span><br />
<span class="irc-date">[20:36]</span> <span class="irc-black">&lt;hpottinger&gt; do you have a link for the fail message?</span><br />
<span class="irc-date">[20:37]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: here's an example of a failed build...it just shows a "Killed" message after 'dspace-installer': <a href="https://travis-ci.org/DSpace/DSpace/builds/35161660#L6400">https://travis-ci.org/DSpace/DSpace/builds/35161660#L6400</a></span><br />
<span class="irc-date">[20:37]</span> <span class="irc-black">&lt;kompewter&gt; [ Travis CI - Free Hosted Continuous Integration Platform for the Open Source Community ] - <a href="https://travis-ci.org/DSpace/DSpace/builds/35161660#L6400">https://travis-ci.org/DSpace/DSpace/builds/35161660#L6400</a></span><br />
<span class="irc-date">[20:38]</span> <span class="irc-black">&lt;tdonohue&gt; Even if Travis CI will do a "retry" after that failed build....all the retries will also fail with "Killed" messages (at other random points)</span><br />
<span class="irc-date">[20:38]</span> <span class="irc-black">&lt;tdonohue&gt; According to TravisCI docs...that "Killed" message means you are exceeding the bounds of their memory (3GB): <a href="http://docs.travis-ci.com/user/common-build-problems/#My-build-script-is-killed-without-any-error">http://docs.travis-ci.com/user/common-build-problems/#My-build-script-is-killed-without-any-error</a></span><br />
<span class="irc-date">[20:38]</span> <span class="irc-black">&lt;kompewter&gt; [ Travis CI: Common Build Problems ] - <a href="http://docs.travis-ci.com/user/common-build-problems/#My-build-script-is-killed-without-any-error">http://docs.travis-ci.com/user/common-build-problems/#My-build-script-is-killed-without-any-error</a></span><br />
<span class="irc-date">[20:39]</span> <span class="irc-black">&lt;tdonohue&gt; The initial "Killed" message *always* occurs on the "dspace-installer" build step.  Any additional ones just occur randomly elsewhere.</span><br />
<span class="irc-date">[20:40]</span> <span class="irc-black">&lt;tdonohue&gt; So...I mostly just wanted to make everyone aware of this issue. It's affecting all PRs.  I'm planning to merge DSPR#648 (as it splits out the Unit Tests to show they succeed, even if the "dspace-installer" fails)...but even that PR won't solve the problem entirely</span><br />
<span class="irc-date">[20:40]</span> <span class="irc-black">&lt;kompewter&gt; [ <a href="https://github.com/DSpace/DSpace/pull/648">https://github.com/DSpace/DSpace/pull/648</a> ] - More Travis CI build fixes related to DS-2133 by tdonohue</span><br />
<span class="irc-date">[20:41]</span> <span class="irc-black">&lt;robint&gt; So it is just coincidence that it is the Mirage2 build then? We were already sailing close to the wind in terms of memory?</span><br />
<span class="irc-date">[20:41]</span> <span class="irc-black">&lt;tdonohue&gt; robint: yes, I think it's coincidence that it started with Mirage2.  I think Mirage2 was just "one more module to package up", and became the straw that broke the camels back.</span><br />
<span class="irc-date">[20:42]</span> <span class="irc-black">&lt;tdonohue&gt; I've since tried disabling the Mirage2 build, and it still happens even without Mirage 2 being built/compiled. So, I'm 80-90% certain that it's just related to m-assembly-p and our building of 'dspace-installer'</span><br />
<span class="irc-date">[20:43]</span> <span class="irc-black">&lt;tdonohue&gt; But, none of this is very easy to "test/debug" in Travis CI...so there's always the chance I've overlooked something</span><br />
<span class="irc-date">[20:43]</span> <span class="irc-black">&lt;hpottinger&gt; I just ran du -sh . in my working copy, it weighs in at 3.5GB</span><br />
<span class="irc-date">[20:43]</span> <span class="irc-black">&lt;tdonohue&gt; it's not 3GB of space....it's 3GB of memory (to do the build/test)</span><br />
<span class="irc-date">[20:44]</span> <span class="irc-black">&lt;tdonohue&gt; According to TravisCI docs if your build/test exceeds 3GB of memory, it will just be "Killed".  But I'm not sure if there's other ways to see that same "Killed" message, or if it *always* means you've exceeded 3GB of memory</span><br />
<span class="irc-date">[20:45]</span> <span class="irc-black">&lt;robint&gt; Any other alternative CI sites out there?</span><br />
<span class="irc-date">[20:46]</span> <span class="irc-black">&lt;tdonohue&gt; None that are free and integrate as awesomely with GitHub :)   Honestly, I love Travis CI for its GitHub integration, but we definitely seem to be breaking the bounds of it</span><br />
<span class="irc-date">[20:47]</span> <span class="irc-black">&lt;tdonohue&gt; but, if anyone else comes up with something, I'm honestly all ears.  Until then, I may end up going as far as *disabling* the final "dspace-installer" step, and simply running Unit Tests &amp; individual module builds in Travis CI</span><br />
<span class="irc-date">[20:47]</span> <span class="irc-black">&lt;robint&gt; For testing purposes could we try dropping some modules eg LNI, to see if it then builds?</span><br />
<span class="irc-date">[20:48]</span> <span class="irc-black">&lt;robint&gt; I realise this is dependent on finding time</span><br />
<span class="irc-date">[20:48]</span> <span class="irc-black">&lt;tdonohue&gt; yea, we could disable some modules from building ("-P !dspace-lni" does that)...and see what happens</span><br />
<span class="irc-date">[20:48]</span> <span class="irc-black">&lt;peterdietz&gt; we can shrink DSpace. Major refactoring in these last few weeks, Remove everything except for dspace-api, dspace-services, and dspace-rest. Kick out the UI's, and refactor OAI/sword to live within one of the other modules.</span><br />
<span class="irc-date">[20:50]</span> <span class="irc-black">&lt;tdonohue&gt; haha...Good luck with that ;)   In all seriousness though, I do suspect longer term we may wish to avoid our massive proliferation of modules... It'd be nice to start to merge some.  As a basic example even, could dspace-api/dspace-services/dspace-rest just become ONE modules (which builds a JAR and a WAR for REST)</span><br />
<span class="irc-date">[20:51]</span> <span class="irc-black">&lt;tdonohue&gt; There may be some situations where separate modules are warranted...but the concept of "lets just throw in a new module" may need to be rethought if we want to be able to keep our build/test process more reasonable</span><br />
<span class="irc-date">[20:51]</span> <span class="irc-black">&lt;robint&gt; We could drop one of the UI's!</span><br />
<span class="irc-date">[20:51]</span> <span class="irc-black">&lt;robint&gt; :)</span><br />
<span class="irc-date">[20:52]</span> <span class="irc-black">&lt;hpottinger&gt; notice: robint is joking, do not be alarmed</span><br />
<span class="irc-date">[20:52]</span> <span class="irc-black">&lt;mhwood&gt; Maven does not like producing more than one artifact per project.</span><br />
<span class="irc-date">[20:52]</span> <span class="irc-black">&lt;hpottinger&gt; I wonder if we might be able to ask the Travis folks for help?</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;hpottinger&gt; they seem to want to be helpful for open source tools</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;tdonohue&gt; In any case, I'll keep tinkering around (when I find time), to see if I can find a way to fix Travis issues.</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;hpottinger&gt; maybe we can get special dispensation to let our builds cross the line?</span><br />
<span class="irc-date">[20:53]</span> <span class="irc-black">&lt;hpottinger&gt; because we're just really friendly folks?</span><br />
<span class="irc-date">[20:54]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: yea, I probably should put in a ticket to see if they can give more feedback on what "Killed" means.  But, I doubt we'll get special dispensation, as I've seen other tickets where their response was "sorry, our limit is 3GB...you seem to be going over that"</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;tdonohue&gt; But, I'll log a ticket with them to see what they say. Just need to spin up another breaking build or two as good examples.</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;hpottinger&gt; I wonder if we capped Maven's memory at, say, 3GB if Maven could "figure it out?"</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;tdonohue&gt; I've tried setting MAVEN_OPTS=-Xmx1024M ... and even 2GB...doesn't seem to matter</span><br />
<span class="irc-date">[20:55]</span> <span class="irc-black">&lt;hpottinger&gt; that's odd</span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;KevinVdV&gt; I need to run, until next time !</span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;mhwood&gt; Assembly doesn't fork a separate process, does it?</span><br />
<span class="irc-date">[20:56]</span> <span class="irc-black">&lt;tdonohue&gt; It's unclear though whether m-assembly-p obeys those memory limits or not</span><br />
<span class="irc-date">[20:57]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: dunno.  I *do* know that m-surefire-p forks a separate process (and therefore ignores MAVEN_OPTS)...but I don't know about m-assembly-p</span><br />
<span class="irc-date">[20:57]</span> <span class="irc-black">&lt;hpottinger&gt; <a href="http://stackoverflow.com/questions/23322984/how-to-fix-maven-permgen-out-of-memory-error-on-travis-ci">http://stackoverflow.com/questions/23322984/how-to-fix-maven-permgen-out-of-memory-error-on-travis-ci</a></span><br />
<span class="irc-date">[20:57]</span> <span class="irc-black">&lt;kompewter&gt; [ java - How to fix Maven PermGen out of memory error on Travis-ci? - Stack Overflow ] - <a href="http://stackoverflow.com/questions/23322984/how-to-fix-maven-permgen-out-of-memory-error-on-travis-ci">http://stackoverflow.com/questions/23322984/how-to-fix-maven-permgen-out-of-memory-error-on-travis-ci</a></span><br />
<span class="irc-date">[20:58]</span> <span class="irc-black">&lt;hpottinger&gt; looks like you can specify memory usage for tests</span><br />
<span class="irc-date">[20:59]</span> <span class="irc-black">&lt;tdonohue&gt; hpottinger: yep, but tests aren't the problem. They always succeed. Memory failure happens on m-assembly-p step.</span><br />
<span class="irc-date">[20:59]</span> <span class="irc-black">&lt;robint&gt; Likewise I had to specifically allocate extra memory for the Javavdoc step</span><br />
<span class="irc-date">[20:59]</span> <span class="irc-black">&lt;robint&gt; It didn't care about MAVEN_OPTS</span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;tdonohue&gt; In any case...we're nearly out of time here.  I just wanted to let you all know that Travis CI is still having issues with our build. I'll still tinker with it a bit, and likely also reach out to Travis staff too.</span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;mhwood&gt; 25-30 Issues in Needs Code Review state.</span><br />
<span class="irc-date">[21:00]</span> <span class="irc-black">&lt;tdonohue&gt; Until then, the only thing I can recommend is to "restart" a build if you see a "Killed" message on your PRs.  Sometimes you need to rerun it 2-3 times before it'll finally succeed.</span><br />
<span class="irc-date">[21:01]</span> <span class="irc-navy">* KevinVdV (~KevinVdV@d5153D041.access.telenet.be) Quit (Ping timeout: 255 seconds)</span><br />
<span class="irc-date">[21:01]</span> <span class="irc-black">&lt;tdonohue&gt; mhwood: Good point. Next week perhaps we can just start to go down the list of any tickets which are "scheduled for 5.0 and in 'Needs Code Review'"....we have plenty to still review</span><br />
<span class="irc-date">[21:02]</span> <span class="irc-black">&lt;robint&gt; Got to run. Cheers all</span><br />
<span class="irc-date">[21:03]</span> <span class="irc-navy">* robint (5eaf588c@gateway/web/freenode/ip.94.175.88.140) Quit (Quit: Page closed)</span><br />
<span class="irc-date">[21:03]</span> <span class="irc-black">&lt;tdonohue&gt; yes, since we are now overtime, we'll close up the meeting for today.</span><br />
<span class="irc-date">[21:04]</span> <span class="irc-black">&lt;tdonohue&gt; I'll still be around for a bit, as needed.  Sorry for stealing a good portion of the meeting talking about Travis CI (but it's stolen a bit of my time over the last week, and just wanted to make sure you all were aware it's still not working right)</span><br />
<span class="irc-date">[21:09]</span> <span class="irc-green">* mhwood (mwood@mhw.ulib.iupui.edu) has left #duraspace</span><br />
<span class="irc-date">[21:11]</span> <span class="irc-navy">* terryb (~anonymous@162.244.138.212) Quit (Ping timeout: 272 seconds)</span><br />
<span class="irc-date">[21:16]</span> <span class="irc-green">* hpottinger (~hpottinge@mu-161174.dhcp.missouri.edu) has left #duraspace</span><br />
<span class="irc-date">[22:13]</span> <span class="irc-green">* tdonohue (~tdonohue@c-98-215-0-161.hsd1.il.comcast.net) has left #duraspace</span><br />
